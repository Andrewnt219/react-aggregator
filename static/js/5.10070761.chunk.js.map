{"version":3,"sources":["hooks/useTitle.js","components/ui/Modal/Modal.js","components/ui/Modal/Modal.module.scss","components/ui/Spinner/Spinner.js","components/ui/Spinner/Spinner.module.scss","hooks/useBookmarks.js","components/NewsSources/Article/Article.module.scss","components/NewsSources/NewsSource/NewsSource.module.scss","hoc/withErrorHandler.js","components/NewsSources/Article/Article.js","components/NewsSources/NewsSource/NewsSource.js","components/NewsCards/NewsCards.js","hooks/useSource.js","components/NewsSources/NewsSources.js","components/NewsSources/NewsSources.module.scss","containers/Trending/Trending.js"],"names":["useTitle","title","useEffect","document","Modal","children","clicked","show","div","onClick","className","classes","initial","y","x","opacity","animate","transition","duration","module","exports","Spinner","loader","useBookmarks","localId","useSelector","selectUser","dispatch","useDispatch","bookmarks","selectBookmarks","getBookmarks","userId","withHandler","Component","props","error","selectError","setError","hasError","style","width","margin","withRouter","id","url","description","source","isBookmarked","router","useState","setShow","history","toggleBookmark","useCallback","deleteBookmark","createBookmark","push","container","onMouseLeave","href","Headline","DropDownButton","icon","faBookmark","color","prevShow","faCaretUp","faCaretDown","exit","DropDownContent","NewsSource","name","articles","map","article","key","NewsCards","border","padding","useSource","sources","selectSources","setIsLoading","isLoading","fetchSources","NewsSources","Object","entries","value","withErrorHandler","loading","selectLoading"],"mappings":"0GAAA,WAUeA,IAPf,SAAkBC,GAEdC,qBAAU,WACNC,SAASF,MAAQA,IAClB,CAACA,M,iCCPR,8CAoBeG,IAhBf,YAA6C,IAA5BC,EAA2B,EAA3BA,SAAUC,EAAiB,EAAjBA,QAEvB,OAFwC,EAARC,MAGpB,kBAAC,IAAOC,IAAR,CACJC,QAASH,EACTI,UAAWC,IAAQP,MACnBQ,QAAS,CAAEC,EAAG,SAAUC,EAAG,OAAQC,QAAS,GAC5CC,QAAS,CAAEH,EAAG,OAAQC,EAAG,OAAQC,QAAS,GAC1CE,WAAY,CAAEC,SAAU,KAEvBb,EACD,oD,oBCdZc,EAAOC,QAAU,CAAC,MAAQ,uB,iCCD1B,sCAWeC,IARf,WACI,OACI,yBAAKX,UAAWC,IAAQU,SACpB,yBAAKX,UAAWC,IAAQW,Y,oBCLpCH,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,wBAAwB,MAAQ,yB,iCCD9F,mCAiBeG,IAZf,WAAyB,IACdC,EAAWC,YAAYC,KAAvBF,QACDG,EAAWC,cACXC,EAAYJ,YAAYK,KAM9B,OAJA5B,qBAAU,WACNsB,GAAWG,EAASI,YAAa,CAAEC,OAAQR,OAC5C,CAACG,EAAUH,IAEPK,I,oBCbXV,EAAOC,QAAU,CAAC,SAAW,0BAA0B,eAAiB,gCAAgC,gBAAkB,iCAAiC,UAAY,6B,oBCAvKD,EAAOC,QAAU,CAAC,UAAY,gC,iCCD9B,6CA+Bea,IA1Bf,SAAqBC,GACjB,OAAO,SAAAC,GACH,IAAMC,EAAQX,YAAYY,KAEpBV,EAAWC,cAOjB,OACI,oCACI,kBAAC,IAAD,CAAOrB,KAAM6B,EAAO9B,QAP5B,WACIqB,EAASW,YAAS,CAAEC,UAAU,QAOX,IAAVH,EACK,wBAAII,MAAO,CAACC,MAAO,cAAeC,OAAQ,WAAYN,GACtD,wBAAII,MAAO,CAACC,MAAO,cAAeC,OAAQ,WAA1C,yBAIV,kBAACR,EAAcC,O,+IC4ChBQ,mBA1Df,YAAoF,IAAjEC,EAAgE,EAAhEA,GAAI3C,EAA4D,EAA5DA,MAAO4C,EAAqD,EAArDA,IAAKC,EAAgD,EAAhDA,YAAaC,EAAmC,EAAnCA,OAAQC,EAA2B,EAA3BA,aAAiBC,EAAU,4EACvDC,oBAAS,GAD8C,mBACxE3C,EADwE,KAClE4C,EADkE,KAEvE3B,EAAYC,YAAYC,KAAxBF,QACFG,EAAWC,cACVwB,EAAWH,EAAXG,QAEDC,EAAiBC,uBAAY,WAC1B9B,EAaGG,EAVCqB,EAUQO,YAAe,CAAEX,OATjBY,YAAe,CACpBvD,QACA4C,MACAC,cACAd,OAAQR,EACRwB,cAAeA,EACfD,YATRK,EAAQK,KAAK,cAelB,CAACL,EAASnD,EAAO4C,EAAKC,EAAatB,EAASwB,EAAcrB,EAAUoB,EAAQH,IAE/E,OACI,6BAASlC,UAAWC,IAAQ+C,UAAWC,aAAc,kBAAMR,GAAQ,KAC/D,uBAAGS,KAAMf,EAAKnC,UAAWC,IAAQkD,UAAW5D,GAE5C,4BACIS,UAAWC,IAAQmD,eACnBrD,QAAS4C,GAET,kBAAC,IAAD,CAAiBU,KAAMC,IAAYC,MAAOjB,EAAe,UAAY,aAGzE,4BACItC,UAAWC,IAAQmD,eACnBrD,QAAS,kBAAM0C,GAAQ,SAACe,GAAD,OAAeA,OACrC3D,EAAO,kBAAC,IAAD,CAAiBwD,KAAMI,MAAgB,kBAAC,IAAD,CAAiBJ,KAAMK,OAG1E,kBAAC,IAAD,KACK7D,GAAQ,kBAAC,IAAOC,IAAR,CACLQ,QAAS,CACLD,QAAS,CAAC,EAAG,GACbF,EAAG,EAAE,EAAG,IAEZwD,KAAM,CAAEtD,QAAS,EAAGF,GAAI,GACxBI,WAAY,CAAEC,SAAU,IACxBR,UAAWC,IAAQ2D,iBAClBxB,Q,kBCjDNyB,IATf,YAAuC,IAAlBC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,SACvB,OACI,6BAAS/D,UAAWC,IAAQ+C,WACxB,4BAAKc,GACJC,EAASC,KAAI,SAACC,GAAD,OAAa,kBAAC,EAAD,eAASC,IAAKD,EAAQ1E,OAAW0E,W,iCCRxE,oBAiBeE,IAff,SAAmB1C,GACf,OACI,yBAAKzB,UAAU,aACX,wBAAI8B,MAAO,CACPsC,OAAQ,YACRC,QAAS,aACTd,MAAO,UACPxB,MAAO,cACPC,OAAQ,qBACRP,EAAMlC,OACTkC,EAAM9B,Y,iCCZnB,oCAyBe2E,IAlBf,SAAmBnC,GACf,IAAMoC,EAAUxD,YAAYyD,KACtBvD,EAAWC,cACXC,EAAYN,cAYlB,OAVArB,qBAAU,WACNyB,EAASwD,YAAa,CAACC,WAAW,OACnC,CAACzD,EAAUkB,IAEd3C,qBAAU,WACNyB,EAAS0D,YAAa,CAACxC,MAAKhB,iBAC7B,CAACF,EAAUkB,EAAKhB,IAIZoD,I,wFCNIK,IAZf,YAAiC,IAAXL,EAAU,EAAVA,QAClB,OACI,yBAAKvE,UAAWC,IAAQ2E,aACnBC,OAAOC,QAAQP,GAASP,KAAI,mCAAE9B,EAAF,KAAM6C,EAAN,YAAiB,kBAAC,IAAD,CAC1Cb,IAAKhC,EACL4B,KAAM5B,EACN6B,SAAUgB,Y,oBCT1BtE,EAAOC,QAAU,CAAC,YAAc,mC,iCCDhC,iGA0BesE,uBAdf,WACI,IAAMC,EAAUlE,YAAYmE,KACtBX,EAAUD,YAJP,mDAMT,OADAhF,YAJU,YAMN2F,EACM,kBAAC,IAAD,MAEF,kBAAC,IAAD,CAAW1F,MATT,YAUE,kBAAC,IAAD,CAAagF,QAASA","file":"static/js/5.10070761.chunk.js","sourcesContent":["import { useEffect } from 'react'\r\n\r\n\r\nfunction useTitle(title) {\r\n  \r\n    useEffect(() => {\r\n        document.title = title\r\n    }, [title])\r\n}\r\n\r\nexport default useTitle\r\n","import React from 'react'\r\nimport classes from './Modal.module.scss'\r\nimport {motion } from 'framer-motion'\r\n\r\nfunction Modal({ children, clicked, show }) {\r\n\r\n    return (\r\n        show && <motion.div\r\n            onClick={clicked}\r\n            className={classes.Modal}\r\n            initial={{ y: \"-200vh\", x: \"-50%\", opacity: 0 }}\r\n            animate={{ y: \"-50%\", x: \"-50%\", opacity: 1 }}\r\n            transition={{ duration: .4}}\r\n        >\r\n            {children}\r\n            <p>(Click to dismiss)</p>\r\n        </motion.div>\r\n    );\r\n}\r\n\r\nexport default Modal\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__1G7WC\"};","import React from 'react'\r\nimport classes from './Spinner.module.scss'\r\n\r\nfunction Spinner() {\r\n    return (\r\n        <div className={classes.Spinner}>\r\n            <div className={classes.loader}></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Spinner\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Spinner_Spinner__3NFjq\",\"loader\":\"Spinner_loader__xMbTs\",\"load4\":\"Spinner_load4__UAKVx\"};","import { useEffect } from 'react'\r\nimport { selectUser } from 'features/authSlice';\r\nimport { getBookmarks, selectBookmarks } from 'features/bookmarkSlice';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nfunction useBookmarks() {\r\n    const {localId} = useSelector(selectUser);\r\n    const dispatch = useDispatch();\r\n    const bookmarks = useSelector(selectBookmarks);\r\n\r\n    useEffect(() => {    \r\n        localId && dispatch(getBookmarks({ userId: localId }));\r\n    }, [dispatch, localId]);\r\n\r\n    return bookmarks;\r\n}\r\n\r\nexport default useBookmarks\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Headline\":\"Article_Headline__Cpm8D\",\"DropDownButton\":\"Article_DropDownButton__1GG6i\",\"DropDownContent\":\"Article_DropDownContent__2VaLe\",\"container\":\"Article_container__2hcOQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"NewsSource_container__EvJtu\"};","import React from 'react'\r\nimport Modal from 'components/ui/Modal/Modal'\r\nimport { selectError, setError, /* selectLoading */ } from 'features/uiSlice'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n\r\nfunction withHandler(Component) {\r\n    return props => {\r\n        const error = useSelector(selectError);\r\n        // const loading = useSelector(selectLoading);\r\n        const dispatch = useDispatch();\r\n\r\n        function dismissError() {\r\n            dispatch(setError({ hasError: false }));\r\n\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <Modal show={error} clicked={dismissError}>\r\n                    {error !== false\r\n                        ? <h3 style={{width: 'max-content', margin: '0 auto'}}>{error}</h3>\r\n                        : <h1 style={{width: 'max-content', margin: '0 auto'}}>Something went wrong</h1>\r\n                    }\r\n                </Modal>\r\n                {/* {loading && <Spinner /> } */}\r\n                <Component {...props} />\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withHandler\r\n","import React, { useState, useCallback } from 'react'\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faCaretDown, faCaretUp, faBookmark } from '@fortawesome/free-solid-svg-icons'\r\nimport { AnimatePresence, motion } from 'framer-motion'\r\nimport classes from './Article.module.scss'\r\nimport { selectUser } from 'features/authSlice'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { createBookmark, deleteBookmark } from 'features/bookmarkSlice'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nfunction Article({ id, title, url, description, source, isBookmarked, ...router }) {\r\n    const [show, setShow] = useState(false);\r\n    const { localId } = useSelector(selectUser);\r\n    const dispatch = useDispatch();\r\n    const {history} = router;\r\n\r\n    const toggleBookmark = useCallback(() => {\r\n        if (!localId) {\r\n            history.push('/account');\r\n        } else {\r\n            if (!isBookmarked) {\r\n                dispatch(createBookmark({\r\n                    title,\r\n                    url,\r\n                    description,\r\n                    userId: localId,\r\n                    isBookmarked: !isBookmarked,\r\n                    source\r\n                }));\r\n            } else {\r\n                dispatch(deleteBookmark({ id }));\r\n            }\r\n        }\r\n    }, [history, title, url, description, localId, isBookmarked, dispatch, source, id])\r\n\r\n    return (\r\n        <article className={classes.container} onMouseLeave={() => setShow(false)} >\r\n            <a href={url} className={classes.Headline}>{title}</a>\r\n\r\n            <button\r\n                className={classes.DropDownButton}\r\n                onClick={toggleBookmark}\r\n            >\r\n                <FontAwesomeIcon icon={faBookmark} color={isBookmarked ? '#e71d36' : 'initial'} />\r\n            </button>\r\n\r\n            <button\r\n                className={classes.DropDownButton}\r\n                onClick={() => setShow((prevShow) => !prevShow)} >\r\n                {show ? <FontAwesomeIcon icon={faCaretUp} /> : <FontAwesomeIcon icon={faCaretDown} />}\r\n            </button>\r\n\r\n            <AnimatePresence>\r\n                {show && <motion.div\r\n                    animate={{\r\n                        opacity: [0, 1],\r\n                        y: [-5, 0]\r\n                    }}\r\n                    exit={{ opacity: 0, y: -5 }}\r\n                    transition={{ duration: .4 }}\r\n                    className={classes.DropDownContent}>\r\n                    {description}\r\n                </motion.div>}\r\n            </AnimatePresence>\r\n        </article>\r\n    )\r\n}\r\n\r\nexport default withRouter(Article)\r\n","import React from 'react'\r\nimport Article from '../Article/Article'\r\nimport classes from './NewsSource.module.scss'\r\n\r\nfunction NewsSource({name, articles}) {\r\n    return (\r\n        <article className={classes.container}>\r\n            <h1>{name}</h1>\r\n            {articles.map((article) => <Article key={article.title} {...article} />)}\r\n        </article>\r\n    )\r\n}\r\n\r\nexport default NewsSource\r\n","import React from 'react'\r\n\r\nfunction NewsCards(props) {\r\n    return (\r\n        <div className=\"NewsCards\">\r\n            <h1 style={{\r\n                border: '1px solid',\r\n                padding: '.5rem 3rem',\r\n                color: '#e71d36',\r\n                width: 'max-content',\r\n                margin: '0 auto 1rem auto'\r\n            }}>{props.title}</h1>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewsCards\r\n","import {useEffect} from 'react'\r\nimport { selectSources, fetchSources, setIsLoading } from 'features/newsSlice'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport useBookmarks from './useBookmarks';\r\n\r\n\r\n\r\nfunction useSource(url) {\r\n    const sources = useSelector(selectSources);\r\n    const dispatch = useDispatch();\r\n    const bookmarks = useBookmarks();\r\n\r\n    useEffect(() => {\r\n        dispatch(setIsLoading({isLoading: true}));\r\n    }, [dispatch, url]);\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchSources({url, bookmarks}));\r\n    }, [dispatch, url, bookmarks]);\r\n\r\n\r\n\r\n    return sources;\r\n}\r\n\r\nexport default useSource\r\n","import React from 'react'\r\n\r\nimport NewsSource from './NewsSource/NewsSource'\r\nimport classes from './NewsSources.module.scss'\r\nfunction NewsSources({sources}) {\r\n    return (\r\n        <div className={classes.NewsSources}>\r\n            {Object.entries(sources).map(([id, value]) => <NewsSource\r\n                key={id}\r\n                name={id}\r\n                articles={value} />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewsSources\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NewsSources\":\"NewsSources_NewsSources__eiZcL\"};","import React from 'react'\r\nimport NewsCards from '../../components/NewsCards/NewsCards'\r\nimport NewsSources from 'components/NewsSources/NewsSources';\r\nimport useSource from 'hooks/useSource'\r\nimport withErrorHandler from 'hoc/withErrorHandler';\r\nimport useTitle from 'hooks/useTitle';\r\nimport Spinner from 'components/ui/Spinner/Spinner';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectLoading } from 'features/newsSlice';\r\n\r\nconst URLS = 'https://newsapi.org/v2/top-headlines?country=us';\r\nconst TITLE = 'Trending'\r\nfunction Trending() {\r\n    const loading = useSelector(selectLoading);\r\n    const sources = useSource(URLS);\r\n    useTitle(TITLE);\r\n    return (\r\n        loading\r\n            ? <Spinner />\r\n            :\r\n            <NewsCards title={TITLE}>\r\n                <NewsSources sources={sources} />\r\n            </NewsCards>\r\n    )\r\n}\r\n\r\nexport default withErrorHandler(Trending)\r\n\r\n"],"sourceRoot":""}